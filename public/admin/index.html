<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Content Manager</title>
  </head>
  <body>
    <script>window.CMS_MANUAL_INIT = true</script>
    <script src="https://unpkg.com/decap-cms@^3.0.0/dist/decap-cms.js"></script>
    <script>
      CMS.init({
        config: {
          backend: {
            name: 'github',
            repo: 'chefaraga123/Personal-Website',
            branch: 'main',
            base_url: 'https://www.jamesoleary.xyz',
            auth_endpoint: 'api/auth',
          },
          media_folder: 'public/images',
          public_folder: '/images',
          collections: [
            {
              name: 'articles',
              label: 'Articles',
              folder: 'public/articles',
              create: true,
              extension: 'md',
              slug: '{{slug}}',
              summary: '{{title}} — {{date}}',
              fields: [
                { label: 'Title', name: 'title', widget: 'string' },
                {
                  label: 'Date',
                  name: 'date',
                  widget: 'datetime',
                  format: 'YYYY-MM-DD',
                  date_format: 'DD/MM/YYYY',
                  time_format: false
                },
                {
                  label: 'Category',
                  name: 'category',
                  widget: 'select',
                  options: ['Philosophy', 'Computer-Science', 'Economics', 'Technology', 'Footium', 'Personal']
                },
                { label: 'Reading Time (min)', name: 'readingTime', widget: 'number', value_type: 'int' },
                { label: 'Body', name: 'body', widget: 'markdown' },
                { label: 'Private Notes', name: 'notes', widget: 'text', required: false, hint: 'Not published — for your eyes only.' }
              ]
            },
            {
              name: 'book_list',
              label: 'Book List',
              files: [
                {
                  name: 'book_data',
                  label: 'Books',
                  file: 'src/pages/Books/BookData.json',
                  fields: [
                    {
                      label: 'Books',
                      name: 'books',
                      widget: 'list',
                      summary: '{{fields.title}} — {{fields.author}}',
                      fields: [
                        { label: 'Title', name: 'title', widget: 'string' },
                        { label: 'Author', name: 'author', widget: 'string', required: false },
                        {
                          label: 'Genre',
                          name: 'genre',
                          widget: 'list',
                          field: { label: 'Genre', name: 'genre', widget: 'string' }
                        },
                        { label: 'Cover Image', name: 'image', widget: 'image', required: false },
                        { label: 'Summary Link', name: 'summaryLink', widget: 'string', required: false, hint: 'e.g. /books/Fear_of_Freedom' },
                        { label: 'ID', name: 'id', widget: 'string', required: false, hint: 'Matches the book summary markdown filename, e.g. Fear_of_Freedom' },
                        { label: 'Additional Info', name: 'additionalInfo', widget: 'string', required: false }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              name: 'book_summaries',
              label: 'Book Summaries',
              folder: 'public/book_summaries',
              create: true,
              extension: 'md',
              slug: '{{slug}}',
              summary: '{{title}} — {{author}}',
              fields: [
                { label: 'Title', name: 'title', widget: 'string' },
                { label: 'Author', name: 'author', widget: 'string' },
                {
                  label: 'Genre',
                  name: 'genre',
                  widget: 'list',
                  field: { label: 'Genre', name: 'genre', widget: 'string' }
                },
                { label: 'Cover Image', name: 'image', widget: 'image', required: false },
                { label: 'Body', name: 'body', widget: 'markdown' },
                { label: 'Private Notes', name: 'notes', widget: 'text', required: false, hint: 'Not published — for your eyes only.' }
              ]
            }
          ]
        }
      });
    </script>
  </body>
</html>
